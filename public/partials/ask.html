<div ng-controller="AskCtrl">
    <fieldset>
        <legend>Ask a question</legend>

        <form name="question_submit_form" class="form-horizontal" role="form" ng-submit="post_question()">
            <div id="alerts">
                <alert ng-repeat="alert in alerts" type="alert.type" close="closeAlert(alert)">{{alert.msg}}</alert>
            </div>

            <!-- question title -->
            <div class="col-sm-12 form-group" ng-class="{ 'has-error' : title_invalid(question_submit_form) }">
                <div>
                    <input ng-model="question.title" type="text" class="form-control" id="question-title" name="title" placeholder="Enter the title of your question" required autofocus ng-minlength="6" ng-maxlength="255">
                </div>
                <span class="help-block" ng-show="title_invalid(question_submit_form)">
                    Question title must be at least 6 characters long (maximum of 255).
                </span>
            </div>

            <!-- question content editor -->
            <div class="col-sm-12 form-group" ng-class="{ 'has-error': content_invalid(question_submit_form) }">
                <div text-angular="text-angular" name="content" ng-model="question.content"
                     ta-toolbar="[['p','h1','h2'],['bold','italics','pre','quote'],['ul','ol'],['undo','redo'],['insertImage','insertLink']]"
                     placeholder="Enter your question"></div>
                <span class="help-block" ng-show="content_invalid(question_submit_form)">
                    Question content must be at least 20 characters long (maximum of 10 000).
                </span>
            </div>

            <!-- question tags -->
            <div class="col-sm-12 form-group">
                <tags-input ng-model="question.tags" min-tags="2" max-tags="10" add-on-space="true" add-on-comma="true"></tags-input>
            </div>

            <!-- question submit  -->
            <div class="col-sm-10 form-group">
                <button type="submit" class="btn btn-default" ng-click="submit(question)" ng-disabled="question_submit_form.$invalid">Submit question</button>
                <button class="btn btn-default" ng-click="reset_form(question_submit_form)">Clear all</button>
            </div>

        </form>
    </fieldset>
</div>